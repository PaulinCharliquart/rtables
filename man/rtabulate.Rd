% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rtabulate_refactor.R
\name{rtabulate}
\alias{rtabulate}
\title{Direct Tabulation}
\usage{
rtabulate(
  x,
  col_by = by_all("col_1"),
  FUN = rtab_inner,
  ...,
  row_by = NULL,
  format = NULL,
  row.name = "",
  indent = 0,
  col_wise_args = list(),
  total = NULL,
  col_N = NULL
)
}
\arguments{
\item{x}{either a vector or \code{data.frame}}

\item{col_by}{(\code{\link{factor}} or \code{\link{data.frame}}
if a \code{\link{factor}} of length \code{nrow(x)} that defines
which levels in \code{col_by} define a column.
can use \code{\link{by_factor_to_matrix}} to create a matrix from a factor to use non-disjoint columns
can use \code{\link{by_all}} to have a column with all rows, alternatively look at \code{\link{by_add_total}}}

\item{FUN}{a function that processes the cell data}

\item{...}{arguments passed to the tabulation function}

\item{row_by}{rows in \code{x} to take per row in the resulting table}

\item{format}{if \code{FUN} does not return a formatted \code{\link{rcell}}
then the \code{format} is applied}

\item{row.name}{if \code{NULL} then the \code{FUN} argument is deparsed and
used as \code{row.name} of the \code{\link{rrow}}}

\item{indent}{deprecated.}

\item{col_wise_args}{a named list containing collections (e.g. vectors or
lists) with data elements for each column of the resulting table. The data
elements are then passed to the named argument \code{FUN} corresponding to
the element name of the outer list. Hence, the length and order of each
collection must match the levels in \code{col_by}. See examples.}

\item{total}{string of column name of an added total column using \code{\link[rtables]{by_add_total}} to
\code{col_by} and \code{\link[tern]{col_N_add_total}} to \code{col_N}. If \code{NULL} no total column is added.}

\item{col_N}{numeric. If non-NULL, counts to override total column counts.}
}
\value{
an \code{\link{rtable}} object
}
\description{
\code{rtablulate} provides a direct tabulation API conceptually derived from \code{\link{tapply}}.
}
\details{
In practice, a Pre-data layout is built up based on the
arguments using hierarchical splitting for rows and columns as necessary, then analyzing all variables in \code{x} via \code{FUN} (which defaults to \code{\link{rtab_inner}}). This layout is then applied to the full data (the combination of \code{x}, \code{col_by} and, if non-null, \code{row_by}).
}
\note{
For backwards compatibility, all paramters other than \code{x}, \code{col_by} and \code{FUN} appear after \dots so must be specified by full argument name.
}
\author{
Gabriel Becker and Adrian Waddell
}
