% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/col_by.R
\name{by_hierarchical}
\alias{by_hierarchical}
\title{Hierarchical col_by}
\usage{
by_hierarchical(..., sep = ",")
}
\arguments{
\item{...}{factors or col_by matrices. When a by element in the list 
is a matrix, it allows for non-disjoint columns}

\item{sep}{separator between hierarchical levels

todo: returned col_by column names are not correct}
}
\value{
structure(col_by matrix, header = ) a list of labelled headers (one per row), 
  col_by matrix corresponding to all combinations
}
\description{
Hierarchical col_by
}
\examples{
SEX <- with_label(factor(c("M", "M", "F", "F", "F")), "Sex")
AGEC <- with_label(factor(c("<40", ">40", "<40", ">40", "<40")), "Age Category")
VAL <- c(5, 4, 4, 6, 2)

rtabulate(x = VAL, col_by = by_hierarchical(SEX, AGEC))

library(dplyr)
rtabulate(
  x = VAL,
  col_by = by_hierarchical(SEX, AGEC) \%>\%
      by_add_total()
)


by_hierarchical(SEX)
col_by <- by_hierarchical(SEX, AGEC)
col_by
colnames(col_by)
attr(col_by, "header")
rtables:::by_header_to_string(attr(col_by, "header"))
}
